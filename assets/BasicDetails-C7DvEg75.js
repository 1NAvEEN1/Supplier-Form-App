import{r as c,j as i}from"./react-G0VBmWxS.js";import{a as l,b as h,c as E,s as I}from"./index-pJPwAMK0.js";import{u as T,a as G}from"./react-redux-3PpUptFA.js";import{a as D}from"./axios-zw96FDk0.js";import{u as N}from"./react-i18next-Ld4qvRaQ.js";import{T as u,D as M,B as g,i as x,A as b,m as p}from"./@mui-lgJpmoNL.js";import"./@babel-SkaEL2tl.js";import"./react-dom-wkoTY-Le.js";import"./scheduler-iwWdm5Ml.js";import"./react-router-dom-8rnrgVg8.js";import"./react-router-mRKdHBLr.js";import"./@remix-run-EOO7uaRF.js";import"./@reduxjs-OWLxucYK.js";import"./redux-vWdE9iQ8.js";import"./immer-2VFgZgpn.js";import"./reselect-knrTZChY.js";import"./redux-thunk-qyK_zz9Y.js";import"./prop-types-nTg9hSou.js";import"./i18next-NCffezqA.js";import"./i18next-http-backend-6HvsPMKJ.js";import"./cross-fetch-xd-Enngl.js";import"./clsx-2Jv0kmJG.js";import"./react-transition-group-NM3J4weW.js";import"./@emotion-cuKUoGzU.js";import"./hoist-non-react-statics-MGeNrgoW.js";import"./react-is-cHOZVpRJ.js";import"./stylis-UTZzoVRx.js";import"./@popperjs-zyV4rJhQ.js";import"./use-sync-external-store-BBrSSgse.js";import"./html-parse-stringify-gNhRsLCw.js";import"./void-elements-KNW2nDh4.js";const z=async()=>{const a="/Location/GetProvinces";return D.get(`https://supplierapi.cehub.lk/api${a}`).catch(s=>{console.log(s)})},F=async a=>{const s=`/Location/GetDistricts/${a}`;return D.get(`https://supplierapi.cehub.lk/api${s}`).catch(o=>{console.log(o)})},_=async a=>{const s=`/Location/GetCities/${a}`;return D.get(`https://supplierapi.cehub.lk/api${s}`).catch(o=>{console.log(o)})},f="1px 5px 8px 5px rgba(0, 0, 0, 0.05)",v="-1px 1px 8px 5px rgba(255, 0, 0, 0.3)",vt=()=>{const{t:a,i18n:s}=N(),o=T(),[e,m]=c.useState({province:l.getState().form.formData.basicDetails.province,district:l.getState().form.formData.basicDetails.district,city:l.getState().form.formData.basicDetails.city,name:l.getState().form.formData.basicDetails.name,phone:l.getState().form.formData.basicDetails.contactNo,phone2:l.getState().form.formData.basicDetails.contactNo2,email:l.getState().form.formData.basicDetails.email});let n=G(t=>t.errors.basicDetails.error);const d=(t,r)=>{console.log(t+" , "+r),m(t==="province"?{...e,province:r,district:"0",city:"0"}:t==="district"?{...e,[t]:r,city:"0"}:{...e,[t]:r}),o(E({})),o(I({...e,[t]:r}))},j=(t,r)=>{const B=r.replace(/\D/g,"").slice(0,10);o(E({})),m({...e,[t]:B}),o(I({...e,[t]:B}))},[y,P]=c.useState([]),R=async()=>{try{const t=await z();P(t.data)}catch(t){console.error("Error fetching provinces:",t)}};c.useEffect(()=>{R()},[]);const[S,W]=c.useState([]),L=async()=>{try{const t=await F(e.province);W(t.data)}catch(t){console.error("Error fetching districts:",t)}};c.useEffect(()=>{!e.province==0&&L()},[e.province]);const[C,O]=c.useState([]),$=async()=>{try{const t=await _(e.district);O(t.data)}catch(t){console.error("Error fetching Cities:",t)}};return c.useEffect(()=>{!e.district==0&&$()},[e.district]),i.jsxs("div",{children:[i.jsx(u,{variant:"h4",fontWeight:700,mt:2,mb:2,children:a("translation:BasicDetails:heading")}),i.jsx(M,{sx:{mb:3}}),i.jsxs(g,{sx:{boxShadow:n==="province"?v:f,borderRadius:3,pt:1,pr:2,pb:1},children:[i.jsx(u,{variant:"b1",fontWeight:600,color:"primary",pl:2,children:a("translation:BasicDetails:province")}),i.jsx(x,{fullWidth:!0,children:i.jsx(b,{size:"small",value:y.find(t=>t.id===e.province)||null,options:y,getOptionLabel:t=>s.language==="en"?t.provinceEnglish:s.language==="si"?t.provinceSinhala:t.provinceTamil,onChange:(t,r)=>{d("province",r?r.id:"0"),o(h({province:r,district:void 0,city:void 0}))},renderInput:t=>i.jsx(p,{...t,placeholder:a("translation:BasicDetails:SelectProvince"),sx:{".MuiOutlinedInput-notchedOutline":{border:0},borderRadius:3,height:40,ml:1,mr:-1}})})})]}),i.jsxs(g,{sx:{boxShadow:n==="district"?v:f,borderRadius:3,pt:1,pr:2,mt:3,pb:1},children:[i.jsx(u,{variant:"b1",fontWeight:600,color:"primary",pl:2,children:a("translation:BasicDetails:district")}),i.jsx(x,{fullWidth:!0,children:i.jsx(b,{value:S.find(t=>t.id===e.district)||null,options:S,size:"small",getOptionLabel:t=>s.language==="en"?t.districtEnglish:s.language==="si"?t.districtSinhala:t.districtTamil,onChange:(t,r)=>{d("district",r?r.id:"0"),o(h({province:void 0,district:r,city:void 0}))},disabled:e.province==="0",renderInput:t=>i.jsx(p,{...t,placeholder:a("translation:BasicDetails:SelectDistrict"),sx:{".MuiOutlinedInput-notchedOutline":{border:0},borderRadius:3,height:40,ml:1,mr:-1}})})})]}),i.jsxs(g,{sx:{boxShadow:n==="city"?v:f,borderRadius:3,mt:3,pt:1,pr:2,pb:1},children:[i.jsx(u,{variant:"b1",fontWeight:600,color:"primary",pl:2,children:a("translation:BasicDetails:city")}),i.jsx(x,{fullWidth:!0,children:i.jsx(b,{value:C.find(t=>t.id===e.city)||null,options:C,size:"small",getOptionLabel:t=>s.language==="en"?t.cityEnglish:s.language==="si"?t.citySinhala:t.cityTamil,onChange:(t,r)=>{d("city",r?r.id:"0"),o(h({province:void 0,district:void 0,city:r}))},disabled:e.district==="0",renderInput:t=>i.jsx(p,{...t,placeholder:a("translation:BasicDetails:SelectCity"),sx:{".MuiOutlinedInput-notchedOutline":{border:0},borderRadius:3,height:40,ml:1,mr:-1}})})})]}),i.jsx(p,{fullWidth:!0,InputProps:{sx:{borderRadius:3,mt:4}},placeholder:a("translation:BasicDetails:name"),value:e.name,error:n==="name",onChange:t=>d("name",t.target.value)}),i.jsx(p,{fullWidth:!0,InputProps:{sx:{borderRadius:3,mt:4},inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:10}},error:n==="number"||n==="Invalid Contact Number",placeholder:a("translation:BasicDetails:number"),value:e.phone,onChange:t=>j("phone",t.target.value)}),i.jsx(p,{fullWidth:!0,InputProps:{sx:{borderRadius:3,mt:4},inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:10}},error:n==="Invalid Secondary Contact Number",placeholder:a("translation:BasicDetails:number2"),value:e.phone2,onChange:t=>j("phone2",t.target.value)}),i.jsx(p,{fullWidth:!0,error:n==="email",InputProps:{sx:{borderRadius:3,mt:4}},placeholder:a("translation:BasicDetails:email"),value:e.email,onChange:t=>d("email",t.target.value)})]})};export{vt as default};
