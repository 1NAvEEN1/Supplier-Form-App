import{r as f,j as e}from"./react-G0VBmWxS.js";import{u as M,a as z}from"./react-redux-3PpUptFA.js";import{a as y,b as U,c as Q}from"./index-0R9DSke7.js";import{u as I,T}from"./react-i18next-Ld4qvRaQ.js";import{B as m,G as r,T as i,D,R as A,h as w,i as W,g,j as v,k as d,m as p,b as R,u as F,I as B,n as V,o as q,p as E,q as G}from"./@mui-i2dqX2Gd.js";import"./@babel-SkaEL2tl.js";import"./use-sync-external-store-BBrSSgse.js";import"./react-dom-wkoTY-Le.js";import"./scheduler-iwWdm5Ml.js";import"./react-router-dom-8rnrgVg8.js";import"./react-router-mRKdHBLr.js";import"./@remix-run-EOO7uaRF.js";import"./@reduxjs-OWLxucYK.js";import"./redux-vWdE9iQ8.js";import"./immer-2VFgZgpn.js";import"./reselect-knrTZChY.js";import"./redux-thunk-qyK_zz9Y.js";import"./prop-types-nTg9hSou.js";import"./i18next-NCffezqA.js";import"./i18next-http-backend-6HvsPMKJ.js";import"./cross-fetch-xd-Enngl.js";import"./clsx-2Jv0kmJG.js";import"./react-transition-group-NM3J4weW.js";import"./@emotion-cuKUoGzU.js";import"./hoist-non-react-statics-MGeNrgoW.js";import"./react-is-cHOZVpRJ.js";import"./stylis-UTZzoVRx.js";import"./@popperjs-zyV4rJhQ.js";import"./html-parse-stringify-gNhRsLCw.js";import"./void-elements-KNW2nDh4.js";const h=({children:c,...a})=>e.jsx(m,{sx:{boxShadow:"1px 5px 8px 5px rgba(0, 0, 0, 0.05)",borderRadius:3,mt:3,pt:1,pr:0,pb:1,...a},children:c}),H=({closeDrawer:c})=>{const a=M(),{t:l}=I(),P=z(t=>t.form.formData),u={productOrRaw:!0,category:0,subCategory:0,name:"",pricing:{price:"",priceQtyUnitValue:"",priceQtyUnit:10},supply:{supplyQty:"",supplyQtyUnitValue:"",supplyQtyUnit:10},order:{orderQty:"",orderQtyUnitValue:"",orderQtyUnit:10},supplyFrequency:!0,selectedMonths:[],otherDetails:""},[n,x]=f.useState(u);f.useEffect(()=>{var o;const t=y.getState().form.selectedProductIndex;t!==99&&x((o=y.getState().form.formData)==null?void 0:o.productDetails[t])},[y.getState().form.selectedProductIndex]);const s=(t,o,j=null)=>{x(j?{...n,[t]:{...n[t],[j]:o}}:{...n,[t]:o})},b=t=>{const j=n.selectedMonths.includes(t)?n.selectedMonths.filter(k=>k!==t):[...n.selectedMonths,t];s("selectedMonths",j)},C=()=>{const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return e.jsx(r,{container:!0,spacing:2,children:t.map((o,j)=>e.jsx(r,{item:!0,xs:3,display:"flex",justifyContent:"center",children:e.jsx(m,{bgcolor:n.selectedMonths.includes(o)?"#F47621":"#D5D8DC",onClick:()=>b(o),sx:{borderRadius:2,width:60,height:40,"&:hover":{cursor:"pointer",border:"2px solid #F47621"}},display:"flex",justifyContent:"center",alignItems:"center",children:e.jsx(i,{textAlign:"center",children:o})})},j))})},S=()=>{console.log(n);const t=[...P.productDetails];y.getState().form.selectedProductIndex!==99?t[y.getState().form.selectedProductIndex]=n:t.push(n),a(U(t)),x(u),a(Q(99)),c()},O=()=>{x(u),a(Q(99)),c()};return e.jsx(m,{sx:{display:"flex",justifyContent:"center",bgcolor:"#F9FAFB"},children:e.jsxs(r,{container:!0,sx:{minHeight:"90svh",p:2,width:500,borderRadius:4},children:[e.jsxs(r,{item:!0,xs:12,children:[e.jsx(i,{textAlign:"center",fontWeight:600,mb:2,children:l("translation:AddProduct:heading")}),e.jsx(D,{style:{width:"100%",marginBottom:25}}),e.jsx(A,{"aria-labelledby":"demo-radio-buttons-group-label",value:n.productOrRaw.toString(),onChange:t=>s("productOrRaw",t.target.value==="true"),name:"radio-buttons-group",children:e.jsxs(r,{container:!0,children:[e.jsx(r,{item:!0,xs:6,children:e.jsx(i,{variant:"h5",children:l("translation:AddProduct:product")})}),e.jsx(r,{item:!0,xs:6,display:"flex",justifyContent:"end",mb:2,children:e.jsx(w,{value:"true",control:e.jsx(W,{}),labelPlacement:"start"})}),e.jsx(r,{item:!0,xs:6,children:e.jsx(i,{variant:"h5",children:l("translation:AddProduct:rawMaterial")})}),e.jsx(r,{item:!0,xs:6,display:"flex",justifyContent:"end",mb:2,children:e.jsx(w,{value:"false",control:e.jsx(W,{}),labelPlacement:"start"})})]})}),n.productOrRaw&&e.jsxs(e.Fragment,{children:[" ",e.jsxs(h,{children:[e.jsx(i,{variant:"b1",fontWeight:500,color:"primary",pl:2,children:l("translation:AddProduct:category")}),e.jsx(g,{fullWidth:!0,children:e.jsxs(v,{id:"demo-simple-select",value:n.category,sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0},borderRadius:3,height:30},onChange:t=>s("category",t.target.value),children:[e.jsx(d,{value:0,children:"Select a product category"}),e.jsx(d,{value:10,children:"Spices"}),e.jsx(d,{value:20,children:"Oils"}),e.jsx(d,{value:30,children:"condiments"})]})})]}),e.jsxs(h,{children:[e.jsx(i,{variant:"b1",fontWeight:500,color:"primary",pl:2,children:l("translation:AddProduct:subCategory")}),e.jsx(g,{fullWidth:!0,children:e.jsxs(v,{id:"demo-simple-select",value:n.subCategory,sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0},borderRadius:3,height:30},onChange:t=>s("subCategory",t.target.value),children:[e.jsx(d,{value:0,children:"Select a product sub category"}),e.jsx(d,{value:10,children:"Cinnamon"}),e.jsx(d,{value:20,children:"Turmeric"}),e.jsx(d,{value:30,children:"Pepper"})]})})]})]}),e.jsxs(h,{children:[e.jsx(i,{color:"primary",pl:2,children:l("translation:AddProduct:name")}),e.jsx(p,{size:"small",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0}},placeholder:"Product Name ABC",fullWidth:!0,value:n.name,onChange:t=>s("name",t.target.value)})]})]}),e.jsxs(r,{item:!0,xs:12,mt:3,children:[e.jsx(i,{fontWeight:600,children:l("translation:AddProduct:pricing")}),e.jsx(i,{fontSize:"13px",mt:1,children:e.jsxs(T,{i18nKey:"AddProduct.text1",children:["Please select the units of quantity when adding price. ",e.jsx("br",{}),"(For example: per kg, per liter, per gram, per one piece, etc.)"]})}),e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{item:!0,xs:6,children:e.jsxs(h,{children:[e.jsx(i,{color:"primary",pl:2,children:"Price (Rupees)"}),e.jsx(p,{size:"small",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0}},placeholder:"0000",fullWidth:!0,inputProps:{style:{fontWeight:"bold"}},value:n.pricing.price,onChange:t=>s("pricing",t.target.value,"price")})]})}),e.jsx(r,{item:!0,xs:6,children:e.jsxs(h,{height:85,children:[e.jsx(i,{color:"primary",pl:2,mb:1,children:"Quantity unit"}),e.jsxs(r,{container:!0,children:[e.jsx(r,{item:!0,xs:5,mb:3,children:e.jsx(p,{size:"small",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0}},placeholder:"000",fullWidth:!0,inputProps:{style:{fontWeight:"bold"}},value:n.pricing.priceQtyUnitValue,onChange:t=>s("pricing",t.target.value,"priceQtyUnitValue")})}),e.jsx(r,{item:!0,xs:7,mt:.5,children:e.jsx(g,{fullWidth:!0,children:e.jsxs(v,{id:"demo-simple-select",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0},borderRadius:3,height:30},fullWidth:!0,value:n.pricing.priceQtyUnit,onChange:t=>s("pricing",t.target.value,"priceQtyUnit"),children:[e.jsx(d,{value:10,children:"kg"}),e.jsx(d,{value:20,children:"gram"})]})})})]})]})})]})]}),e.jsxs(r,{item:!0,xs:12,mt:3,children:[e.jsx(i,{fontWeight:600,children:l("translation:AddProduct:supplyQuantity")}),e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{item:!0,xs:6,children:e.jsxs(h,{children:[e.jsx(i,{color:"primary",pl:2,children:"Quantity"}),e.jsx(p,{size:"small",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0}},placeholder:"0000",fullWidth:!0,inputProps:{style:{fontWeight:"bold"}},value:n.supply.supplyQty,onChange:t=>s("supply",t.target.value,"supplyQty")})]})}),e.jsx(r,{item:!0,xs:6,children:e.jsxs(h,{height:85,children:[e.jsx(i,{color:"primary",pl:2,mb:0,children:"Quantity unit"}),e.jsxs(r,{container:!0,children:[e.jsx(r,{item:!0,xs:5,mb:3,children:e.jsx(p,{size:"small",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0}},placeholder:"000",fullWidth:!0,inputProps:{style:{fontWeight:"bold"}},value:n.supply.supplyQtyUnitValue,onChange:t=>s("supply",t.target.value,"supplyQtyUnitValue")})}),e.jsx(r,{item:!0,xs:7,mt:.5,children:e.jsx(g,{fullWidth:!0,children:e.jsxs(v,{id:"demo-simple-select",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0},borderRadius:3,height:30},value:n.supply.supplyQtyUnit,onChange:t=>s("supply",t.target.value,"supplyQtyUnit"),children:[e.jsx(d,{value:10,children:"kg"}),e.jsx(d,{value:20,children:"gram"})]})})})]})]})})]})]}),e.jsxs(r,{item:!0,xs:12,mt:3,children:[e.jsx(i,{fontWeight:600,children:l("translation:AddProduct:orderQuantity")}),e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{item:!0,xs:6,children:e.jsxs(h,{children:[e.jsx(i,{color:"primary",pl:2,children:"Quantity"}),e.jsx(p,{size:"small",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0}},placeholder:"0000",fullWidth:!0,inputProps:{style:{fontWeight:"bold"}},value:n.order.orderQty,onChange:t=>s("order",t.target.value,"orderQty")})]})}),e.jsx(r,{item:!0,xs:6,children:e.jsxs(h,{height:85,children:[e.jsx(i,{color:"primary",pl:2,mb:1,children:"Quantity unit"}),e.jsxs(r,{container:!0,children:[e.jsx(r,{item:!0,xs:5,mb:3,children:e.jsx(p,{size:"small",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0}},placeholder:"000",fullWidth:!0,inputProps:{style:{fontWeight:"bold"}},value:n.order.orderQtyUnitValue,onChange:t=>s("order",t.target.value,"orderQtyUnitValue")})}),e.jsx(r,{item:!0,xs:7,mt:.5,children:e.jsx(g,{fullWidth:!0,children:e.jsxs(v,{id:"demo-simple-select",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0},borderRadius:3,height:30},value:n.order.orderQtyUnit,onChange:t=>s("order",t.target.value,"orderQtyUnit"),children:[e.jsx(d,{value:10,children:"kg"}),e.jsx(d,{value:20,children:"gram"})]})})})]})]})})]})]}),e.jsxs(r,{item:!0,xs:12,mt:3,children:[e.jsx(i,{variant:"h6",fontWeight:700,mt:2,mb:2,children:l("translation:AddProduct:supplyFrequency")}),e.jsx(D,{sx:{mb:3}}),e.jsx(g,{fullWidth:!0,sx:{pl:2,pr:2},children:e.jsx(A,{"aria-labelledby":"demo-radio-buttons-group-label",value:n.supplyFrequency.toString(),onChange:t=>s("supplyFrequency",t.target.value==="true"),name:"radio-buttons-group",children:e.jsxs(r,{container:!0,children:[e.jsx(r,{item:!0,xs:9,children:e.jsx(i,{variant:"h5",children:l("translation:AddProduct:monthly")})}),e.jsx(r,{item:!0,xs:3,display:"flex",justifyContent:"end",mb:2,children:e.jsx(w,{value:"true",control:e.jsx(W,{}),labelPlacement:"start"})}),e.jsx(r,{item:!0,xs:9,children:e.jsx(i,{variant:"h5",children:l("translation:AddProduct:custom")})}),e.jsx(r,{item:!0,xs:3,display:"flex",justifyContent:"end",mb:2,children:e.jsx(w,{value:"false",control:e.jsx(W,{}),labelPlacement:"start"})})]})})}),!n.supplyFrequency&&e.jsxs(e.Fragment,{children:[e.jsx(i,{fontWeight:700,mt:2,mb:2,children:l("translation:AddProduct:monthRange")}),C()]}),e.jsx(D,{sx:{mt:3}})]}),e.jsxs(r,{item:!0,xs:12,mt:3,children:[e.jsx(i,{fontWeight:700,mt:2,mb:2,children:l("translation:AddProduct:otherDetails")}),e.jsx(i,{fontSize:"13px",mt:1,mb:1,children:l("translation:AddProduct:text2")}),e.jsx(p,{fullWidth:!0,InputProps:{sx:{borderRadius:3}},multiline:!0,rows:7,value:n.otherDetails,onChange:t=>s("otherDetails",t.target.value)})]}),e.jsxs(r,{item:!0,xs:12,children:[e.jsx(R,{variant:"contained",size:"large",fullWidth:!0,sx:{height:50,borderRadius:3,color:"white",mt:2},onClick:()=>S(),children:e.jsx(i,{textTransform:"capitalize",variant:"h6",children:"Save Product"})}),e.jsx(R,{size:"large",fullWidth:!0,sx:{height:50,borderRadius:3,color:"grey"},onClick:()=>O(),children:e.jsx(i,{textTransform:"capitalize",variant:"h6",children:"Discard"})})]})]})})},ve=()=>{const c=f.useRef(null),a=f.useRef(null),l=M(),{t:P}=I(),[u,n]=f.useState(!1),x=F("(max-width:768px)"),s=F("(min-width:769px)"),b=y.getState().form.formData.productDetails,C=t=>o=>{o.type==="keydown"&&(o.key==="Tab"||o.key==="Shift")||n(t)},S=e.jsx(e.Fragment,{children:e.jsx(H,{closeDrawer:()=>n(!1)})}),O=t=>{l(Q(t)),n(!0)};return f.useEffect(()=>{u&&c.current&&(c.current.scrollTop=c.current.scrollHeight),u&&a.current&&(a.current.scrollTop=a.current.scrollHeight)},[u]),e.jsxs("div",{children:[e.jsx(i,{variant:"h4",fontWeight:700,mt:2,mb:2,children:P("translation:ProductDetails:heading")}),e.jsx(D,{sx:{mb:3}}),e.jsx(m,{display:"flex",flexDirection:"column",children:b.map((t,o)=>e.jsx(m,{sx:{boxShadow:"1px 5px 8px 5px rgba(0, 0, 0, 0.05)",borderRadius:3,mt:2,p:3,bgcolor:"#FFFFFF"},children:e.jsxs(r,{container:!0,children:[e.jsxs(r,{item:!0,xs:7,children:[e.jsx(i,{fontWeight:600,children:t.name}),e.jsx(i,{children:t.name})]}),e.jsx(r,{item:!0,xs:5,display:"flex",justifyContent:"end",alignItems:"center",children:e.jsx(B,{size:"small",onClick:()=>O(o),children:e.jsx(V,{fontSize:"small"})})}),e.jsxs(r,{item:!0,xs:12,children:[e.jsx(i,{fontWeight:600,mt:4,children:"Product Details"}),e.jsxs(i,{children:["Grade A 1kg Rs.2,500 Grade B 1kg Rs.2,000 can supply 100kg per week. packaging can be done any size. we do not deliver."," "]})]})]})},o))}),!b.length>0&&e.jsx(e.Fragment,{children:e.jsx(i,{textAlign:"center",children:P("translation:ProductDetails:clickText")})}),e.jsxs(m,{display:"flex",justifyContent:"center",mt:2,children:[e.jsx(R,{variant:"contained",size:"medium",sx:{borderRadius:2,color:"white",ml:x?2:0},onClick:C(!0),children:e.jsx(i,{textTransform:"capitalize",variant:"b1",children:!b.length>0?"Add Product":"Add Another Product"})}),x&&e.jsx(q,{anchor:"bottom",open:u,onClose:C(!1),children:e.jsx("div",{ref:a,style:{overflowY:"auto",height:"100%"},children:S})}),s&&e.jsx(E,{open:u,onClose:()=>n(!1),"aria-labelledby":"add-product-modal",fullWidth:!0,maxWidth:"md",children:e.jsx(G,{ref:c,children:e.jsx(m,{sx:{bgcolor:"#F9FAFB",borderRadius:4,p:4},children:S})})})]})]})};export{ve as default};
